# 📝 Angular Forms

Forms are used to **collect, validate, and submit user input** in Angular applications.
There are **two main approaches**:

1. **Template-driven forms** → Easier, more HTML-driven.
2. **Reactive forms** → More powerful, flexible, TypeScript-driven.

---

## 🔹 Template-driven Forms

📌 **Definition:**
Template-driven forms are **forms built using Angular directives inside the HTML template**. Angular automatically manages form state and validation.

📌 **Key Points:**

* Easy to use, suitable for **simple forms**.
* Use `ngModel`, `ngForm`, and validation attributes (`required`, `minlength`, etc.).
* Angular automatically creates `FormControl` and `FormGroup` in the background.
* Less TypeScript code, more HTML-driven.
* Harder to scale for **complex forms**.
* Uses Angular directives in the **HTML template** (`ngModel`, `ngForm`).
* Minimal TypeScript code → logic is mostly in the template.


### ✅ Example: Login Form (Template-driven)

```html
<!-- login.component.html -->
<form #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm)">
  <label>Email:</label>
  <input type="email" name="email" ngModel required />

  <label>Password:</label>
  <input type="password" name="password" ngModel required minlength="6" />

  <button type="submit" [disabled]="loginForm.invalid">Login</button>
</form>
```

```ts
// login.component.ts
import { Component } from '@angular/core';

@Component({
  selector: 'app-login',
  templateUrl: './login.component.html'
})
export class LoginComponent {
  onSubmit(form: any) {
    console.log('Form Value:', form.value);
  }
}
```

📌 **Key Features**:

* Uses `ngModel` for **two-way data binding**.
* Form validation is **declarative** (done in HTML).
* Simpler but less control over dynamic/complex forms.

---

## 🔹 Reactive Forms

📌 **Definition:**
Reactive forms are **forms built and managed in TypeScript** using `FormControl`, `FormGroup`, and `FormBuilder`. The template just **binds** to the code-defined structure.

📌 **Key Points:**

* Explicitly define structure in TypeScript (`FormGroup`, `FormControl`).
* Validation rules are written in the component class.
* Easier to test, maintain, and scale.
* Used in large apps like Gmail (compose mail), Jira (create issue).
* Suitable for **complex, dynamic forms** (e.g., sign-up, settings, Jira/Gmail-like form editors).
* Uses `FormGroup`, `FormControl`, `FormBuilder` in **TypeScript**.
* Validation logic is handled in the **component class**.
* Better for large apps, custom validators, dynamic inputs.

### ✅ Example: Registration Form (Reactive)

```ts
// register.component.ts
import { Component } from '@angular/core';
import { FormBuilder, FormGroup, Validators } from '@angular/forms';

@Component({
  selector: 'app-register',
  templateUrl: './register.component.html'
})
export class RegisterComponent {
  registerForm: FormGroup;

  constructor(private fb: FormBuilder) {
    this.registerForm = this.fb.group({
      username: ['', [Validators.required, Validators.minLength(3)]],
      email: ['', [Validators.required, Validators.email]],
      password: ['', [Validators.required, Validators.minLength(6)]]
    });
  }

  onSubmit() {
    console.log('Form Value:', this.registerForm.value);
  }
}
```

```html
<!-- register.component.html -->
<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
  <label>Username:</label>
  <input formControlName="username" />
  <div *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched">
    Username is required (min 3 chars).
  </div>

  <label>Email:</label>
  <input formControlName="email" />
  <div *ngIf="registerForm.get('email')?.errors?.['email']">
    Invalid email format.
  </div>

  <label>Password:</label>
  <input type="password" formControlName="password" />

  <button type="submit" [disabled]="registerForm.invalid">Register</button>
</form>
```

📌 **Key Features**:

* Uses `FormGroup` & `FormControl` to manage state.
* More **predictable & scalable**.
* Validations are in **TypeScript**, easier for complex logic.
* Easier to test.

---

## 🔹 Visual Diagram

```
Template-driven Forms
---------------------
[HTML Template]
   ↓ (ngModel, ngForm)
Angular automatically creates FormControl & validation
   ↓
[Component receives form data on submit]

Reactive Forms
--------------
[Component Class]
   ↓ (FormGroup, FormControl, Validators)
Explicitly defines form structure & rules
   ↓
[HTML Template binds using formGroup & formControlName]
```

---

## 🔹 Real-life Use Cases

* **Template-driven**:

  * Gmail → Login form (email + password).
  * Contact us form in a static website.

* **Reactive**:

  * Jira → Create Issue form (dynamic fields, validations).
  * Gmail → Compose email (to, cc, bcc, attachments, validation).
  * E-commerce checkout (dynamic address, payment, shipping).

---

## ✅ Quick Comparison

| Feature          | Template-driven | Reactive            |
| ---------------- | --------------- | ------------------- |
| Code location    | Mostly HTML     | Mostly TypeScript   |
| Suitable for     | Simple forms    | Complex forms       |
| Validation       | Template-based  | Class-based         |
| Scalability      | Low             | High                |
| Testing          | Harder          | Easier              |
| Example use case | Login form      | Jira issue creation |



## 🔹 Quick Comparison

| Feature           | Template-driven                                | Reactive                                          |
| ----------------- | ---------------------------------------------- | ------------------------------------------------- |
| **Definition**    | Forms managed by Angular automatically in HTML | Forms fully controlled by developer in TypeScript |
| **Code location** | Mostly in HTML                                 | Mostly in TypeScript                              |
| **Validation**    | Template-based (`required`, `ngModel`)         | Class-based (`Validators.required`)               |
| **Best for**      | Simple forms (login, contact)                  | Complex forms (Jira issue, Gmail compose)         |
| **Scalability**   | Low                                            | High                                              |
| **Testing**       | Harder                                         | Easier                                            |

---

# 🏗️ FormControl, FormGroup, FormArray

## 🔹 Simple Definition

* **FormControl** → Represents a **single input field** (like email, password).
* **FormGroup** → Groups multiple `FormControl`s together (like a login form).
* **FormArray** → Manages an **array of FormControl/FormGroup** (like multiple phone numbers or tasks).

---

## 🔹 FormControl

📌 **Definition:**
Represents a **single form input** with its value and validation state.

📌 **Points:**

* Tracks **value** and **validation** of one input field.
* Created with `new FormControl()` or via `FormBuilder`.
* Useful for individual inputs (email, password, etc.).

### ✅ Example

```ts
import { Component } from '@angular/core';
import { FormControl, Validators } from '@angular/forms';

@Component({
  selector: 'app-single-control',
  template: `
    <input [formControl]="emailControl" placeholder="Enter email">
    <p *ngIf="emailControl.invalid && emailControl.touched">Invalid Email</p>
  `
})
export class SingleControlComponent {
  emailControl = new FormControl('', [Validators.required, Validators.email]);
}
```

---

## 🔹 FormGroup

📌 **Definition:**
A `FormGroup` is a **collection of FormControls** treated as one unit.

📌 **Points:**

* Represents a **form with multiple fields**.
* Each control inside can be validated individually.
* Helps manage the **overall validity** of the group.

### ✅ Example

```ts
import { Component } from '@angular/core';
import { FormGroup, FormControl, Validators } from '@angular/forms';

@Component({
  selector: 'app-login',
  template: `
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <input formControlName="email" placeholder="Email">
      <input type="password" formControlName="password" placeholder="Password">
      <button type="submit" [disabled]="loginForm.invalid">Login</button>
    </form>
  `
})
export class LoginComponent {
  loginForm = new FormGroup({
    email: new FormControl('', [Validators.required, Validators.email]),
    password: new FormControl('', Validators.required)
  });

  onSubmit() {
    console.log(this.loginForm.value);
  }
}
```

---

## 🔹 FormArray

📌 **Definition:**
A `FormArray` is a **dynamic collection of FormControls or FormGroups**, useful when the number of inputs is not fixed.

📌 **Points:**

* Used for **dynamic forms** (like multiple phone numbers, tasks, tags).
* Can push or remove controls at runtime.
* Works well with `FormBuilder.array()`.

### ✅ Example: Dynamic Phone Numbers

```ts
import { Component } from '@angular/core';
import { FormArray, FormBuilder, Validators } from '@angular/forms';

@Component({
  selector: 'app-phones',
  template: `
    <form [formGroup]="userForm">
      <div formArrayName="phones">
        <div *ngFor="let phone of phones.controls; let i = index">
          <input [formControlName]="i" placeholder="Enter phone number">
          <button type="button" (click)="removePhone(i)">Remove</button>
        </div>
      </div>
      <button type="button" (click)="addPhone()">Add Phone</button>
      <button type="submit">Save</button>
    </form>
  `
})
export class PhonesComponent {
  userForm = this.fb.group({
    phones: this.fb.array([
      this.fb.control('', Validators.required)
    ])
  });

  constructor(private fb: FormBuilder) {}

  get phones() {
    return this.userForm.get('phones') as FormArray;
  }

  addPhone() {
    this.phones.push(this.fb.control('', Validators.required));
  }

  removePhone(i: number) {
    this.phones.removeAt(i);
  }
}
```

---

## 🔹 Diagram

```
FormGroup
 ├── FormControl (email)
 ├── FormControl (password)
 └── FormArray (phones)
        ├── FormControl (phone 1)
        ├── FormControl (phone 2)
        └── ...
```

---

## 🔹 Comparison

| Feature           | FormControl                        | FormGroup                     | FormArray                       |
| ----------------- | ---------------------------------- | ----------------------------- | ------------------------------- |
| **Definition**    | Single input field                 | Group of multiple inputs      | Dynamic list of inputs          |
| **Best for**      | Email, password, single text field | Login form, registration form | Phone numbers, tasks, tags      |
| **Fixed/Dynamic** | Fixed                              | Fixed set of fields           | Dynamic (add/remove at runtime) |
| **Validation**    | On single control                  | On each field & whole group   | On each control inside array    |

---
